<HTML>
<HEAD>
<!-- Created by texi2html 1.55k from intergen.txi on 23 Febuary 1999 -->

<TITLE>INTERGEN Reference Manual</TITLE>
</HEAD>
<BODY>
<H1>INTERGEN Reference Manual</H1>
<H2>producing simple interlinear text</H2>
<H2>version 2.1b3</H2>
<H2>May 11, 1998</H2>
<ADDRESS>by H. Andrew Black</ADDRESS>
<P>
<P><HR><P>
<H1>Table of Contents</H1>
<UL>
<LI><A NAME="TOC1" HREF="intergen.html#SEC1">1. Introduction to the INTERGEN program</A>
<LI><A NAME="TOC2" HREF="intergen.html#SEC2">2. Running INTERGEN</A>
<LI><A NAME="TOC3" HREF="intergen.html#SEC3">3. Input Analysis Files</A>
<UL>
<LI><A NAME="TOC4" HREF="intergen.html#SEC4">3.1 Analysis file fields</A>
<UL>
<LI><A NAME="TOC5" HREF="intergen.html#SEC5">3.1.1 Analysis field: \a</A>
<LI><A NAME="TOC6" HREF="intergen.html#SEC6">3.1.2 Decomposition field: \d</A>
<LI><A NAME="TOC7" HREF="intergen.html#SEC7">3.1.3 Category field: \cat</A>
<LI><A NAME="TOC8" HREF="intergen.html#SEC8">3.1.4 Properties field: \p</A>
<LI><A NAME="TOC9" HREF="intergen.html#SEC9">3.1.5 Feature Descriptors field: \fd</A>
<LI><A NAME="TOC10" HREF="intergen.html#SEC10">3.1.6 Underlying form field: \u</A>
<LI><A NAME="TOC11" HREF="intergen.html#SEC11">3.1.7 Word field: \w</A>
<LI><A NAME="TOC12" HREF="intergen.html#SEC12">3.1.8 Formatting field: \f</A>
<LI><A NAME="TOC13" HREF="intergen.html#SEC13">3.1.9 Capitalization field: \c</A>
<LI><A NAME="TOC14" HREF="intergen.html#SEC14">3.1.10 Nonalphabetic field: \n</A>
</UL>
<LI><A NAME="TOC15" HREF="intergen.html#SEC15">3.2 Ambiguous analyses</A>
<LI><A NAME="TOC16" HREF="intergen.html#SEC16">3.3 Analysis failures</A>
</UL>
<LI><A NAME="TOC17" HREF="intergen.html#SEC17">4. Text Output Control File</A>
<UL>
<LI><A NAME="TOC18" HREF="intergen.html#SEC18">4.1 Text output ambiguity delimiter: \ambig</A>
<LI><A NAME="TOC19" HREF="intergen.html#SEC19">4.2 Text output orthographic changes: \ch</A>
<UL>
<LI><A NAME="TOC20" HREF="intergen.html#SEC20">4.2.1 Basic changes</A>
<LI><A NAME="TOC21" HREF="intergen.html#SEC21">4.2.2 Environmentally constrained changes</A>
<LI><A NAME="TOC22" HREF="intergen.html#SEC22">4.2.3 Using text orthography changes</A>
<LI><A NAME="TOC23" HREF="intergen.html#SEC23">4.2.4 Where orthography changes apply</A>
<LI><A NAME="TOC24" HREF="intergen.html#SEC24">4.2.5 A sample orthography change table</A>
<LI><A NAME="TOC25" HREF="intergen.html#SEC25">4.2.6 Syntax of Orthography Changes</A>
</UL>
<LI><A NAME="TOC26" HREF="intergen.html#SEC26">4.3 Decomposition Separation Character: \dsc</A>
<LI><A NAME="TOC27" HREF="intergen.html#SEC27">4.4 Primary format marker character: \format</A>
<LI><A NAME="TOC28" HREF="intergen.html#SEC28">4.5 Lowercase/uppercase character pairs: \luwfc</A>
<LI><A NAME="TOC29" HREF="intergen.html#SEC29">4.6 Multibyte lowercase/uppercase character pairs: \luwfcs</A>
<LI><A NAME="TOC30" HREF="intergen.html#SEC30">4.7 Text output string classes: \scl</A>
<LI><A NAME="TOC31" HREF="intergen.html#SEC31">4.8 Caseless word formation characters: \wfc</A>
<LI><A NAME="TOC32" HREF="intergen.html#SEC32">4.9 Multibyte caseless word formation characters: \wfcs</A>
<LI><A NAME="TOC33" HREF="intergen.html#SEC33">4.10 A sample text output control file</A>
</UL>
</UL>
<P><HR><P>


<H1><A NAME="SEC1" HREF="intergen.html#TOC1">1. Introduction to the INTERGEN program</A></H1>

<P>
AMPLE outputs its result as a database in which there is one record per
word, with capitalization, white space, format marking, and punctuation
represented in other fields.  INTERGEN converts text from this format
into something much more like an interlinear text.  It restores the
capitalization, format markers, and white space of the text.  By default
it produces one line for the decomposition and another line for the
analysis.  In the analysis line, the root categories are discarded and
hyphens are inserted between morphnames.


<P>
INTERGEN v. 1.0 was designed to be a preprocessor for the INTER.PTP
program (which was used with the ManuScripter program).  Since INTER.PTP
expected no more than one space between words, the individual words in
the decomposition and analysis lines were not aligned with each other.


<P>
Beginning with version 1.0d, an <CODE>-a</CODE> command line option caused the
words to be aligned.  Version 1.2g allowed the underlying form field to
also be shown whenever it was present in the database.  Version 2.0 adds
an option to selectively show any or all of the available content fields
from the database.  They may be shown in any order and may be repeated.




<H1><A NAME="SEC2" HREF="intergen.html#TOC2">2. Running INTERGEN</A></H1>


<H3>2.0.1 Command line options</H3>

<P>
The INTERGEN program uses an old-fashioned command line interface
following the convention of options starting with a dash character
(<SAMP>`-'</SAMP>).  The available options are listed below in alphabetical
order.  Those options which require an argument have the argument type
following the option letter.


<DL COMPACT>

<DT><CODE>-a</CODE>
<DD>
each word is aligned with its associated gloss in the following line.
There is also a blank line after each gloss line.  Failures are give a
gloss of <SAMP>`%0%'</SAMP>.  Ambiguous analyses are shown one after the other
with a percent sign <SAMP>`%'</SAMP> separating each one.

<DT><CODE>-n</CODE>
<DD>
to be used in conjunction with the <SAMP>`-a'</SAMP> option.  For ambiguous
analyses, rather than
showing every analysis, it shows the number of ambiguities and one analysis.

<DT><CODE>-e</CODE>
<DD>
to be used in conjunction with the <SAMP>`-a'</SAMP> option.  For ambiguous
analyses, rather than showing just one decomposition ambiguity,  it
shows all of them.  The <SAMP>`-e'</SAMP> option is only effective if
the <SAMP>`-n'</SAMP> option is not present.

<DT><CODE>-f</CODE>
<DD>
to be used with the <SAMP>`-a'</SAMP> option.  Each line of output
is prepended with a standard format field code.  The default
field codes are:
<CODE>\\wrd</CODE> for the <CODE>\w</CODE> (original word) field<BR>
<CODE>\\dec</CODE> for the <CODE>\d</CODE> (morpheme decomposition) field<BR>
<CODE>\\ana</CODE> for the <CODE>\a</CODE> (analysis) field<BR>
<CODE>\\und</CODE> for the <CODE>\u</CODE> (underlying form) field<BR>
<CODE>\\prp</CODE> for the <CODE>\p</CODE> (properties) field<BR>
<CODE>\\cat</CODE> for the <CODE>\c</CODE> (category) field<BR>
<CODE>\\fea</CODE> for the <CODE>\fd</CODE> (feature descriptor) field
The <SAMP>`-g'</SAMP> option may be used to change the defaults.

<DT><CODE>-g code</CODE>
<DD>
to be used in conjunction with the <SAMP>`-f'</SAMP> option.  This
allows the user to select the standard format field code to
be prepended for each output line.  <CODE>code</CODE> consists of
the single character code of the field as listed under the
<SAMP>`-s'</SAMP> option followed immediately by the standard format
field (without the backslash) to be used for the field.
E.g. <SAMP>`-g agls'</SAMP> will prepend <CODE>\\gls</CODE> to the
analysis line.  More than one field may be designated
by separating each instance by a forward slash <CODE>/</CODE>
character.  E.g. <SAMP>`-g ww/dd/ag'</SAMP> will prepend the
following standard format field codes to the indicated
lines:
<CODE>\\w</CODE> for the original word line<BR>
<CODE>\\d</CODE> for the morpheme decomposition line<BR>
<CODE>\\g</CODE> for the analysis line<BR>
The other lines (if output) will use the default standard
format field codes.  See <SAMP>`-f'</SAMP>.
Instead of using the forward slash convention, one may also
use multiple instances of the <SAMP>`-g'</SAMP> switch.  Thus,
<SAMP>`-g ww/dd/ag'</SAMP> is equivalent to <SAMP>`-g ww -g dd -g ag'</SAMP>.

<DT><CODE>-m</CODE>
<DD>
monitors the progress of the interlinear conversion by displaying a code
on stderr (usually the screen) for each word.  <CODE>*</CODE> means an
analysis failure, <CODE>.</CODE> means a single analysis,
<CODE>2</CODE>-<CODE>9</CODE> means 2-9 ambiguities, and
<CODE>&#62;</CODE> means 10 or more ambiguities.  This is not compatible with the
<SAMP>`-q'</SAMP> option.

<DT><CODE>-c character</CODE>
<DD>
selects the control file comment character.  The default is the vertical
bar (<CODE>|</CODE>).

<DT><CODE>-d character</CODE>
<DD>
selects the decomposition separation character (the one used to separate
morphnames in the analysis).  The default is a hyphen (<CODE>-</CODE>).

<DT><CODE>-i filename</CODE>
<DD>
selects a single input AMPLE analysis database file.

<DT><CODE>-o filename</CODE>
<DD>
selects a single output interlinear text file.

<DT><CODE>-q</CODE>
<DD>
tells INTERGEN to operate <EM>quietly</EM> with minimal screen output.
This is not compatible with the <SAMP>`-m'</SAMP> option.

<DT><CODE>-s codes</CODE>
<DD>
tells INTERGEN which fields to output and in what order.  The fields are
indicated by the characters in <CODE>codes</CODE>.  The possible characters
within <CODE>codes</CODE> along with their meanings are:

<CODE>w</CODE> means show the <CODE>\w</CODE> (original word) field<BR>
<CODE>d</CODE> means show the <CODE>\d</CODE> (morpheme decomposition) field<BR>
<CODE>a</CODE> means show the <CODE>\a</CODE> (analysis) field<BR>
<CODE>u</CODE> means show the <CODE>\u</CODE> (underlying form) field<BR>
<CODE>p</CODE> means show the <CODE>\p</CODE> (properties) field<BR>
<CODE>c</CODE> means show the <CODE>\c</CODE> (category) field<BR>
<CODE>f</CODE> means show the <CODE>\fd</CODE> (feature descriptor) field
The characters may be repeated more than once.  The default is
<SAMP>`-sdua'</SAMP>.  If more than one instance of <CODE>-s</CODE> appears, only
the last one will take effect.

<DT><CODE>-t filename</CODE>
<DD>
selects a single text output control file
(see section <A HREF="intergen.html#SEC17">4. Text Output Control File</A>).

<DT><CODE>-w number</CODE>
<DD>
sets the maximum line width to <CODE>number</CODE>.  No output line will be
longer than <CODE>number</CODE>.  The default is 77.

<DT><CODE>-/</CODE>
<DD>
increments the debugging level.  The default is zero (no debugging output).

</DL>

<P>
The following options exist only in beta-test versions of the program,
since they are used only for debugging.


<DL COMPACT>

<DT><CODE>-z filename</CODE>
<DD>
<A NAME="IDX1"></A>
opens a file for recording a memory allocation log.

<DT><CODE>-Z address,count</CODE>
<DD>
<A NAME="IDX2"></A>
traps the program at the point where <CODE>address</CODE> is allocated or
freed for the <CODE>count</CODE>'th time.
</DL>


<H3>2.0.2 Examples</H3>

<P>
If the <SAMP>`-i'</SAMP> command option is not used, INTERGEN prompts for a
number of file names, reading the standard input for the desired values.
The interactive dialog goes like this:

<PRE>

C&#62; intergen
INTERGEN: Generate interlinear text from AMPLE output
Version 2.1b3 (May 11, 1998), Copyright 1998 SIL, Inc.
Beta test version compiled May 11 1998 16:21:42
For 386 CPU (or better) under MS-DOS [compiled with DJGPP 2.1/GNU C 2.7]
				Conversion Performed Mon May 11 16:36:53 1998
Text Control File (xxOUTX.CTL) [none]:
Input File in Database Format (xxxxxx.CED):
Output file: [aetest.it]
	47 words read from aetest.aaa

Next Input File: [no more]:
C&#62;

</PRE>

<P>
Note that each prompt contains a reminder of the expected form of the
answer in parentheses and ends with a colon.  Several of the prompts
also contain the default answer in brackets.


<P>
Using the command options for input and output filenames changes the
appearance of the program screen output only in that no file names are
requested.  For example,

<PRE>

C&#62; intergen -i aetest.aaa -o aetest.it
INTERGEN: Generate interlinear text from AMPLE output
Version 2.1b3 (May 11, 1998), Copyright 1998 SIL, Inc.
Beta test version compiled May 11 1998 16:21:42
For 386 CPU (or better) under MS-DOS [compiled with DJGPP 2.1/GNU C 2.7]
				Conversion Performed Mon May 11 16:38:22 1998
	47 words read from aetest.aaa
C&#62;

</PRE>

<P>
The format of the output file depends on the command line options
chosen.


<P>
The default might look like:

<PRE>

\p
A-kem-ako-veNt-i-ri pairani apaani maini
1I-*kem-DAT-BEN-NF-3MO%1I-*kem-DAT-BEN-NF-REL *pairani aparoni *maini
h-ay-i-ro kooya. Te-ma osyeki
3MNF-*ag-NF-3FO *kooya *te-CNJT *osyeki
hi-nyaaNpoiri-t-apiiNt-a-ve-t-ak-a-ri
3MNF-nyaaNpoiri-&#38;-HAB-&#38;-FRUS-&#38;-PERF-NFR-3MO%3MNF-nyaaNpoiri-&#38;-HAB-&#38;-FRUS-&#38;-PERF-NFR-REL%3MNF-nyaaNpoiri-&#38;-HAB-&#38;-FRUS-&#38;-NFR-CAUTION
ovaa-Ntsi-poosyi-ki, i-tsoNk-at-ii-ro i-tso-t-i-ro tivana.
*ovaa-ABS-BAJADA-LOC 3M-*tsoNk-PROG-NF-3FO 3M-*tso-&#38;-NF-3FO *tivana
O-pony-aasyi-t-ak-a
3F-*pony-PURP-&#38;-PERF-NFR%3F-*pony-PURP-&#38;-NFR-INDEF%3F-*pony-&#38;-hoja-&#38;-PERF-NFR%3F-*pony-&#38;-hoja-&#38;-NFR-INDEF
ironyaaka i-kaNt-a-ve-t-ak-a-ro 0-iri kooya-ka:
*ironyaaka 3M-*kaNt-&#38;-FRUS-&#38;-PERF-NFR-3FO 3FPOS-*iri *kooya-PROX
\p
--
N-isyiNtyo-', atake pi-pipiya-t-ak-a
1POS-*isyiNtyo-VOC *atake 2-pipiya-&#38;-PERF-NFR%2-pipiya-&#38;-NFR-INDEF
ovaa-Ntsi-poosyi-ki, h-ay-i-mi-kari maini.
*ovaa-ABS-BAJADA-LOC 3MNF-*ag-NF-2O-CAUTION *maini
...

</PRE>

<P>
Using <CODE>-a</CODE>, the output would look like:

<PRE>

\p
A-kem-ako-veNt-i-ri                           pairani  apaani  maini
1I-*kem-DAT-BEN-NF-3MO%1I-*kem-DAT-BEN-NF-REL *pairani aparoni *maini

h-ay-i-ro       kooya. Te-ma    osyeki
3MNF-*ag-NF-3FO *kooya *te-CNJT *osyeki

hi-nyaaNpoiri-t-apiiNt-a-ve-t-ak-a-ri
3MNF-nyaaNpoiri-&#38;-HAB-&#38;-FRUS-&#38;-PERF-NFR-3MO%3MNF-nyaaNpoiri-&#38;-HAB-&#38;-FRUS-&#38;-PERF-NFR-REL%3MNF-nyaaNpoiri-&#38;-HAB-&#38;-FRUS-&#38;-NFR-CAUTION

ovaa-Ntsi-poosyi-ki, i-tsoNk-at-ii-ro      i-tso-t-i-ro     tivana.
*ovaa-ABS-BAJADA-LOC 3M-*tsoNk-PROG-NF-3FO 3M-*tso-&#38;-NF-3FO *tivana

O-pony-aasyi-t-ak-a
3F-*pony-PURP-&#38;-PERF-NFR%3F-*pony-PURP-&#38;-NFR-INDEF%3F-*pony-&#38;-hoja-&#38;-PERF-NFR%3F-*pony-&#38;-hoja-&#38;-NFR-INDEF

ironyaaka  i-kaNt-a-ve-t-ak-a-ro          0-iri      kooya-ka:
*ironyaaka 3M-*kaNt-&#38;-FRUS-&#38;-PERF-NFR-3FO 3FPOS-*iri *kooya-PROX

\p
--
N-isyiNtyo-',      atake  pi-pipiya-t-ak-a
1POS-*isyiNtyo-VOC *atake 2-pipiya-&#38;-PERF-NFR%2-pipiya-&#38;-NFR-INDEF

ovaa-Ntsi-poosyi-ki, h-ay-i-mi-kari         maini.
*ovaa-ABS-BAJADA-LOC 3MNF-*ag-NF-2O-CAUTION *maini

...

</PRE>

<P>
Using <CODE>-a -n</CODE> the output would look like:

<PRE>

\p
   A-kem-ako-veNt-i-ri    pairani  apaani  maini  h-ay-i-ro       kooya.
%2 1I-*kem-DAT-BEN-NF-3MO *pairani aparoni *maini 3MNF-*ag-NF-3FO *kooya

Te-ma    osyeki     hi-nyaaNpoiri-t-apiiNt-a-ve-t-ak-a-ri
*te-CNJT *osyeki %3 3MNF-nyaaNpoiri-&#38;-HAB-&#38;-FRUS-&#38;-PERF-NFR-3MO

ovaa-Ntsi-poosyi-ki, i-tsoNk-at-ii-ro      i-tso-t-i-ro     tivana.
*ovaa-ABS-BAJADA-LOC 3M-*tsoNk-PROG-NF-3FO 3M-*tso-&#38;-NF-3FO *tivana

   O-pony-aasyi-t-ak-a      ironyaaka  i-kaNt-a-ve-t-ak-a-ro
%4 3F-*pony-PURP-&#38;-PERF-NFR *ironyaaka 3M-*kaNt-&#38;-FRUS-&#38;-PERF-NFR-3FO

0-iri      kooya-ka:
3FPOS-*iri *kooya-PROX

\p
--
N-isyiNtyo-',      atake     pi-pipiya-t-ak-a    ovaa-Ntsi-poosyi-ki,
1POS-*isyiNtyo-VOC *atake %2 2-pipiya-&#38;-PERF-NFR *ovaa-ABS-BAJADA-LOC

h-ay-i-mi-kari         maini.
3MNF-*ag-NF-2O-CAUTION *maini

...

</PRE>

<P>
Using <CODE>-a -e</CODE> the output would look like:

<PRE>

\p
A-kem-ako-veNt-i-ri%a-kem-ako-veNt-i-ri       pairani  apaani  maini
1I-*kem-DAT-BEN-NF-3MO%1I-*kem-DAT-BEN-NF-REL *pairani aparoni *maini

h-ay-i-ro       kooya. Te-ma    osyeki
3MNF-*ag-NF-3FO *kooya *te-CNJT *osyeki

hi-nyaaNpoiri-t-apiiNt-a-ve-t-ak-a-ri%hi-nyaaNpoiri-t-apiiNt-a-ve-t-ak-a-ri%hi-nyaaNpoiri-t-apiiNt-a-ve-t-a-kari
3MNF-nyaaNpoiri-&#38;-HAB-&#38;-FRUS-&#38;-PERF-NFR-3MO%3MNF-nyaaNpoiri-&#38;-HAB-&#38;-FRUS-&#38;-PERF-NFR-REL%3MNF-nyaaNpoiri-&#38;-HAB-&#38;-FRUS-&#38;-NFR-CAUTION

ovaa-Ntsi-poosyi-ki, i-tsoNk-at-ii-ro      i-tso-t-i-ro     tivana.
*ovaa-ABS-BAJADA-LOC 3M-*tsoNk-PROG-NF-3FO 3M-*tso-&#38;-NF-3FO *tivana

O-pony-aasyi-t-ak-a%o-pony-aasyi-t-a-ka%o-pony-aa-syi-t-ak-a%o-pony-aa-syi-t-a-ka
3F-*pony-PURP-&#38;-PERF-NFR%3F-*pony-PURP-&#38;-NFR-INDEF%3F-*pony-&#38;-hoja-&#38;-PERF-NFR%3F-*pony-&#38;-hoja-&#38;-NFR-INDEF

ironyaaka  i-kaNt-a-ve-t-ak-a-ro          0-iri      kooya-ka:
*ironyaaka 3M-*kaNt-&#38;-FRUS-&#38;-PERF-NFR-3FO 3FPOS-*iri *kooya-PROX

\p
--
N-isyiNtyo-',      atake  pi-pipiya-t-ak-a%pi-pipiya-t-a-ka
1POS-*isyiNtyo-VOC *atake 2-pipiya-&#38;-PERF-NFR%2-pipiya-&#38;-NFR-INDEF

ovaa-Ntsi-poosyi-ki, h-ay-i-mi-kari         maini.
*ovaa-ABS-BAJADA-LOC 3MNF-*ag-NF-2O-CAUTION *maini

...

</PRE>

<P>
Using the <CODE>-a -swda</CODE> options would look like:

<PRE>

\p
Aquemacoventziri                              pairani  apaani  maini
a-kem-ako-veNt-i-ri                           pairani  apaani  maini
1I-*kem-DAT-BEN-NF-3MO%1I-*kem-DAT-BEN-NF-REL *pairani aparoni *maini

jayiro          cooya. Tema     oshequi
h-ay-i-ro       kooya  te-ma    osyeki
3MNF-*ag-NF-3FO *kooya *te-CNJT *osyeki

jin~aampoiritapiintavetacari
hi-nyaaNpoiri-t-apiiNt-a-ve-t-ak-a-ri
3MNF-nyaaNpoiri-&#38;-HAB-&#38;-FRUS-&#38;-PERF-NFR-3MO%3MNF-nyaaNpoiri-&#38;-HAB-&#38;-FRUS-&#38;-PERF-NFR-REL%3MNF-nyaaNpoiri-&#38;-HAB-&#38;-FRUS-&#38;-NFR-CAUTION

ovaantsipooshiqui,   ithoncatziiro         ithotziro        tzivana.
ovaa-Ntsi-poosyi-ki  i-tsoNk-at-ii-ro      i-tso-t-i-ro     tivana
*ovaa-ABS-BAJADA-LOC 3M-*tsoNk-PROG-NF-3FO 3M-*tso-&#38;-NF-3FO *tivana

Opon~aashitaca
o-pony-aasyi-t-ak-a
3F-*pony-PURP-&#38;-PERF-NFR%3F-*pony-PURP-&#38;-NFR-INDEF%3F-*pony-&#38;-hoja-&#38;-PERF-NFR%3F-*pony-&#38;-hoja-&#38;-NFR-INDEF

iron~aaca  icantavetacaro                 iri        cooyaca:
ironyaaka  i-kaNt-a-ve-t-ak-a-ro          0-iri      kooya-ka
*ironyaaka 3M-*kaNt-&#38;-FRUS-&#38;-PERF-NFR-3FO 3FPOS-*iri *kooya-PROX

\p
--
Nishintyo',        ataque pipipiyataca
n-isyiNtyo-'       atake  pi-pipiya-t-ak-a
1POS-*isyiNtyo-VOC *atake 2-pipiya-&#38;-PERF-NFR%2-pipiya-&#38;-NFR-INDEF

ovaantsipooshiqui,   jayimicari             maini.
ovaa-Ntsi-poosyi-ki  h-ay-i-mi-kari         maini
*ovaa-ABS-BAJADA-LOC 3MNF-*ag-NF-2O-CAUTION *maini

...

</PRE>

<P>
As a final example, using the <CODE>-a -swda</CODE> options along
with <CODE>-f -g wword/ddecomp/agls</CODE> would look like:

<PRE>

\p
\word Aquemacoventziri                             pairani  apaani  maini
\decomp a-kem-ako-veNt-i-ri                        pairani  apaani  maini
\gls 1I-*kem-DAT-BEN-NF-3MO%1I-*kem-DAT-BEN-NF-REL *pairani aparoni *maini

\word jayiro         cooya. Tema     oshequi
\decomp h-ay-i-ro    kooya  te-ma    osyeki
\gls 3MNF-*ag-NF-3FO *kooya *te-CNJT *osyeki

\word jin~aampoiritapiintavetacari
\decomp hi-nyaaNpoiri-t-apiiNt-a-ve-t-ak-a-ri
\gls 3MNF-nyaaNpoiri-&#38;-HAB-&#38;-FRUS-&#38;-PERF-NFR-3MO%3MNF-nyaaNpoiri-&#38;-HAB-&#38;-FRUS-&#38;-PERF-NFR-REL%3MNF-nyaaNpoiri-&#38;-HAB-&#38;-FRUS-&#38;-NFR-CAUTION

\word ovaantsipooshiqui,    ithoncatziiro         ithotziro        tzivana.
\decomp ovaa-Ntsi-poosyi-ki i-tsoNk-at-ii-ro      i-tso-t-i-ro     tivana
\gls *ovaa-ABS-BAJADA-LOC   3M-*tsoNk-PROG-NF-3FO 3M-*tso-&#38;-NF-3FO *tivana

\word Opon~aashitaca
\decomp o-pony-aasyi-t-ak-a
\gls 3F-*pony-PURP-&#38;-PERF-NFR%3F-*pony-PURP-&#38;-NFR-INDEF%3F-*pony-&#38;-hoja-&#38;-PERF-NFR%3F-*pony-&#38;-hoja-&#38;-NFR-INDEF

\word iron~aaca   icantavetacaro                 iri        cooyaca:
\decomp ironyaaka i-kaNt-a-ve-t-ak-a-ro          0-iri      kooya-ka
\gls *ironyaaka   3M-*kaNt-&#38;-FRUS-&#38;-PERF-NFR-3FO 3FPOS-*iri *kooya-PROX

\p
--
\word Nishintyo',       ataque pipipiyataca
\decomp n-isyiNtyo-'    atake  pi-pipiya-t-ak-a
\gls 1POS-*isyiNtyo-VOC *atake 2-pipiya-&#38;-PERF-NFR%2-pipiya-&#38;-NFR-INDEF

\word ovaantsipooshiqui,    jayimicari             maini.
\decomp ovaa-Ntsi-poosyi-ki h-ay-i-mi-kari         maini
\gls *ovaa-ABS-BAJADA-LOC   3MNF-*ag-NF-2O-CAUTION *maini

...

</PRE>



<H1><A NAME="SEC3" HREF="intergen.html#TOC3">3. Input Analysis Files</A></H1>

<P>
Analysis files are <EM>record oriented standard format files</EM>.
This means that the files are divided into records, each representing a
single word in the original input text file, and records are divided
into fields.  An analysis file contains at least one record, and may
contain a large number of records.  Each record contains one or more
fields.  Each field occupies at least one line, and is marked by a
<EM>field code</EM> at the beginning of the line.  A field code begins
with a backslash character (<CODE>\</CODE>), and contains 1 or more letters
in addition.



<UL>
<LI><A HREF="intergen.html#SEC4">Analysis file fields</A>: Description of each type of field
<LI><A HREF="intergen.html#SEC15">Ambiguous analyses</A>: How ambiguous analyses are marked
<LI><A HREF="intergen.html#SEC16">Analysis failures</A>: How analysis failures are marked
</UL>



<H2><A NAME="SEC4" HREF="intergen.html#TOC4">3.1 Analysis file fields</A></H2>

<P>
This section describes the possible fields in an analysis file.  The
only field that is guaranteed to exist is the analysis (<CODE>\a</CODE>)
field.  All other fields are either data dependent or optional.



<UL>
<LI><A HREF="intergen.html#SEC5">\a</A>: Analysis
<LI><A HREF="intergen.html#SEC6">\d</A>: Decomposition (surface forms)
<LI><A HREF="intergen.html#SEC7">\cat</A>: Category (possible word, morpheme)
<LI><A HREF="intergen.html#SEC8">\p</A>: Properties
<LI><A HREF="intergen.html#SEC9">\fd</A>: Feature Descriptors
<LI><A HREF="intergen.html#SEC10">\u</A>: Underlying forms (decomposition)
<LI><A HREF="intergen.html#SEC11">\w</A>: Word (before decapitalization and orthography changes)
<LI><A HREF="intergen.html#SEC12">\f</A>: Formatting (junk before the word)
<LI><A HREF="intergen.html#SEC13">\c</A>: Capitalization flag
<LI><A HREF="intergen.html#SEC14">\n</A>: Nonalphabetic (junk after the word)
</UL>



<H3><A NAME="SEC5" HREF="intergen.html#TOC5">3.1.1 Analysis field: \a</A></H3>
<P>
<A NAME="IDX3"></A>


<P>
The analysis field (<CODE>\a</CODE>) starts each record of an analysis file.
It has the following form:

<PRE>

\a PFX IFX PFX &#60; CAT root CAT root &#62; SFX IFX SFX

</PRE>

<P>
where <CODE>PFX</CODE> is a prefix morphname, <CODE>IFX</CODE> is an infix
morphname, <CODE>SFX</CODE> is a suffix morphname, <CODE>CAT</CODE> is a root
category, and <CODE>root</CODE> is a root gloss or etymology.  In the
simplest case, an analysis field would look like this:

<PRE>

\a &#60; CAT root &#62;

</PRE>

<P>
where <CODE>CAT</CODE> is a root category and <CODE>root</CODE> is a root gloss or
etymology.


<P>
@xref{\rd}.
The dictionary field code mapped to <CODE>M</CODE> in the dictionary codes
file controls the affix and default root morphnames; see
@xref{Morphname}.
If the <SAMP>`-g'</SAMP> command line option is given, the output analysis file
contains glosses from the root dictionary marked by the field code
mapped to <CODE>G</CODE> in the dictionary codes file; see
@xref{Command options} and @xref{Root gloss}.




<H3><A NAME="SEC6" HREF="intergen.html#TOC6">3.1.2 Decomposition field: \d</A></H3>
<P>
<A NAME="IDX4"></A>


<P>
The morpheme decomposition field (<CODE>\d</CODE>) follows the analysis
field.  It has the following form:

<PRE>

\d anti-dis-establish-ment-arian-ism-s

</PRE>

<P>
where the hyphens separate the individual morphemes in the surface form
of the word.


<P>
section <A HREF="intergen.html#SEC26">4.3 Decomposition Separation Character: \dsc</A>.


<P>
(@xref{Command options}),
or by an interactive query.




<H3><A NAME="SEC7" HREF="intergen.html#TOC7">3.1.3 Category field: \cat</A></H3>
<P>
<A NAME="IDX5"></A>


<P>
The category field (<CODE>\cat</CODE>) provides rudimentary category
information.  This may be useful for sentence level parsing.  It has
the following form:

<PRE>

\cat CAT

</PRE>

<P>
where <CODE>CAT</CODE> is the word category.
section <A HREF="intergen.html#SEC7">3.1.3 Category field: \cat</A>.


<P>
If there are multiple analyses, there will be multiple categories in
the output, separated by ambiguity markers.




<H3><A NAME="SEC8" HREF="intergen.html#TOC8">3.1.4 Properties field: \p</A></H3>
<P>
<A NAME="IDX6"></A>


<P>
The properties field (<CODE>\p</CODE>) contains the names of any allomorph or
morpheme properties found in the analysis of the word.  It has the
form:

<PRE>

\p ==prop1 prop2=prop3=

</PRE>

<P>
where <CODE>prop1</CODE>, <CODE>prop2</CODE>, and <CODE>prop3</CODE> are property names.
The equal signs (<CODE>=</CODE>) serve to separate the property information
of the individual morphemes.  Note that morphemes may have more than
one property, with the names separated by spaces, or no properties at
all.




<H3><A NAME="SEC9" HREF="intergen.html#TOC9">3.1.5 Feature Descriptors field: \fd</A></H3>
<P>
<A NAME="IDX7"></A>


<P>
The feature descriptor field (<CODE>\fd</CODE>) contains the feature names
associated with each morpheme in the analysis.  It has the following
form:

<PRE>

\fd ==feat1 feat2=feat3=

</PRE>

<P>
where <CODE>feat1</CODE>, <CODE>feat2</CODE>, and <CODE>feat3</CODE> are feature
descriptors.  The equal signs (<CODE>=</CODE>) serve to separate the feature
descriptors of the individual morphemes.  Note that morphemes may have
more than one feature descriptor, with the names separated by spaces,
or no feature descriptors at all.


<P>
@xref{Feature descriptor}.


<P>
If there are multiple analyses, there will be multiple feature sets in
the output, separated by ambiguity markers.




<H3><A NAME="SEC10" HREF="intergen.html#TOC10">3.1.6 Underlying form field: \u</A></H3>
<P>
<A NAME="IDX8"></A>


<P>
The underlying form field (<CODE>\u</CODE>) is similar to the decomposition
field except that it shows underlying forms instead of surface forms.
It looks like this:

<PRE>

\u a-para-a-i-ri-me

</PRE>

<P>
where the hyphens separate the individual morphemes.


<P>
section <A HREF="intergen.html#SEC26">4.3 Decomposition Separation Character: \dsc</A>.


<P>
@xref{Underlying form}.




<H3><A NAME="SEC11" HREF="intergen.html#TOC11">3.1.7 Word field: \w</A></H3>
<P>
<A NAME="IDX9"></A>


<P>
The original word field (<CODE>\w</CODE>) contains the original input word as
it looks before decapitalization and orthography changes.  It looks
like this:

<PRE>

\w The

</PRE>

<P>
Note that this is a gratuitous change from earlier versions of AMPLE
and KTEXT, which wrote the decapitalized form.


<P>
(@xref{Command options}),
or by an interactive query.




<H3><A NAME="SEC12" HREF="intergen.html#TOC12">3.1.8 Formatting field: \f</A></H3>
<P>
<A NAME="IDX10"></A>


<P>
The format information field (<CODE>\f</CODE>) records any formatting codes
or punctuation that appeared in the input text file before the word.
It looks like this:

<PRE>

\f \\id MAT 5 HGMT05.SFM, 14-feb-84 D. Weber, Huallaga Quechua\n
		\\c 5\n\n
		\\s

</PRE>

<P>
where backslashes (<CODE>\</CODE>) in the input text are doubled, newlines
are represented by <CODE>\n</CODE>, and additional lines in the field start
with a tab character.


<P>
The format information field is written to the output analysis file
whenever it is needed, that is, whenever formatting codes or
punctuation exist before words.




<H3><A NAME="SEC13" HREF="intergen.html#TOC13">3.1.9 Capitalization field: \c</A></H3>
<P>
<A NAME="IDX11"></A>


<P>
The capitalization field (<CODE>\c</CODE>) records any capitalization of the
input word.  It looks like this:

<PRE>

\c 1

</PRE>

<P>
where the number following the field code has one of these values:
<DL COMPACT>

<DT><CODE>1</CODE>
<DD>
the first (or only) letter of the word is capitalized

<DT><CODE>2</CODE>
<DD>
all letters of the word are capitalized

<DT><CODE>4-32767</CODE>
<DD>
some letters of the word are capitalized and some are not
</DL>
<P>
Note that the third form is of limited utility, but still exists
because of words like the author's last name.


<P>
The capitalization field is written to the output analysis file
whenever any of the letters in the word are
@xref{\nocap} and @xref{\noincap}.
capitalized.




<H3><A NAME="SEC14" HREF="intergen.html#TOC14">3.1.10 Nonalphabetic field: \n</A></H3>
<P>
<A NAME="IDX12"></A>


<P>
The nonalphabetic field (<CODE>\n</CODE>) records any trailing punctuation,
(@xref{\barcodes}),
bar codes,
or whitespace characters.  It looks like this:

<PRE>

\n |r.\n

</PRE>

<P>
where newlines are represented by <CODE>\n</CODE>.  The nonalphabetic field
ends with the last whitespace character immediately following the word.


<P>
The nonalphabetic field is written to the output analysis file whenever
the word is followed by anything other than a single space character.
This includes the case when a word ends a file with nothing following
it.




<H2><A NAME="SEC15" HREF="intergen.html#TOC15">3.2 Ambiguous analyses</A></H2>

<P>
The previous section assumed that only one analysis is produced for
each word.  This is not always possible since words in isolation are
frequently ambiguous.  Multiple analyses are handled by writing each
analysis field in parallel, with the number of analyses at the
beginning of each output field.  For example,

<PRE>

\a %2%&#60; A0 imaika &#62; CNJT AUG%&#60; A0 imaika &#62; ADVS%
\d %2%imaika-Npa-ni%imaika-Npani%
\cat %2%A0 A0=A0/A0=A0/A0%A0 A0=A0/A0%
\p %2%==%=%
\fd %2%==%=%
\u %2%imaika-Npa-ni%imaika-Npani%
\w Imaicampani
\f \\v124
\c 1
\n \n

</PRE>

<P>
where the percent sign (<CODE>%</CODE>) separates the different analyses in
each field.  Note that only those fields which contain analysis
information are marked for ambiguity.  The other fields (<CODE>\w</CODE>,
<CODE>\f</CODE>, <CODE>\c</CODE>, and <CODE>\n</CODE>) are the same regardless of the
number of analyses.


<P>
section <A HREF="intergen.html#SEC18">4.1 Text output ambiguity delimiter: \ambig</A>.




<H2><A NAME="SEC16" HREF="intergen.html#TOC16">3.3 Analysis failures</A></H2>

<P>
The previous sections assumed that words are successfully analyzed.
This does not always happen.  Analysis failures are marked the same way
as multiple analyses, but with zero (<CODE>0</CODE>) for the ambiguity count.
For example,

<PRE>

\a %0%ta%
\d %0%ta%
\cat %0%%
\p %0%%
\fd %0%%
\u %0%%
\w TA
\f \\v 12 |b
\c 2
\n |r\n

</PRE>

<P>
Note that only the <CODE>\a</CODE> and <CODE>\d</CODE> fields contain any
information, and those both have the original word as a place
holder.  The other analysis fields (<CODE>\cat</CODE>, <CODE>\p</CODE>, <CODE>\fd</CODE>,
and <CODE>\u</CODE>) are marked for failure, but otherwise left empty.


<P>
section <A HREF="intergen.html#SEC18">4.1 Text output ambiguity delimiter: \ambig</A>.




<H1><A NAME="SEC17" HREF="intergen.html#TOC17">4. Text Output Control File</A></H1>
<P>
<A NAME="IDX13"></A>



<UL>
<LI><A HREF="intergen.html#SEC18">\ambig</A>
<LI><A HREF="intergen.html#SEC19">\ch</A>
<LI><A HREF="intergen.html#SEC26">\dsc</A>
<LI><A HREF="intergen.html#SEC27">\format</A>
<LI><A HREF="intergen.html#SEC28">\luwfc</A>
<LI><A HREF="intergen.html#SEC29">\luwfcs</A>
<LI><A HREF="intergen.html#SEC30">\scl</A>
<LI><A HREF="intergen.html#SEC31">\wfc</A>
<LI><A HREF="intergen.html#SEC32">\wfcs</A>
<LI><A HREF="intergen.html#SEC33">Sample text output control file</A>
</UL>

<P>
The <I>text output</I> module restores a processed document from the
internal format to its textual form.  It re-imposes capitalization on
words and restores punctuation, format markers, white space, and line
breaks.  Also, orthography changes can be made, and the delimiter that
marks ambiguities and failures can be changed.  This chapter describes
the control file given to the text output module.<A NAME="DOCF1" HREF="intergen.html#FOOT1">(1)</A>




<H2><A NAME="SEC18" HREF="intergen.html#TOC18">4.1 Text output ambiguity delimiter: \ambig</A></H2>
<P>
<A NAME="IDX14"></A>


<P>
The text output module flags words that either produced no results or
multiple results when processed.  These are flagged with percent signs
(<CODE>%</CODE>) by default, but this can be changed by declaring the desired
character with the \ambig field code.  For example, the following would
change the ambiguity delimiter to <CODE>@</CODE>:

<PRE>
\ambig @
</PRE>



<H2><A NAME="SEC19" HREF="intergen.html#TOC19">4.2 Text output orthographic changes: \ch</A></H2>
<P>
<A NAME="IDX15"></A>


<P>
The text output module allows orthographic changes to be made to the
processed words.
These are given in the text output control file.
@xref{Text input control file}.)
The output orthographic changes allow conversion from the internal
representation used by the program to the practical orthography of the
target language.  These changes are applied to the words after they
have been processed, but before the text is re-assembled (from the
internal format) for output.

<PRE>
\ch "N"   "m"  / _ p       | assimilates before p
\ch "N"   "n"              | otherwise stays n
</PRE>

<P>
The first change makes N into m when it directly precedes p; the second
makes all other N's into n.


<P>
An orthography change is defined by the <CODE>\ch</CODE> field code followed
by the actual orthography change.  Any number of orthography changes
may be defined in the text output control file.  The output of each
change serves as the input the following change.  That is, each change
is applied as many times as necessary to an input word before the next
change from the text output control file is applied.



<UL>
<LI><A HREF="intergen.html#SEC20">Basic changes</A>
<LI><A HREF="intergen.html#SEC21">Environmentally constrained changes</A>
<LI><A HREF="intergen.html#SEC22">Using text orthography changes</A>
<LI><A HREF="intergen.html#SEC23">Where orthography changes apply</A>
<LI><A HREF="intergen.html#SEC24">A sample orthography change table</A>
<LI><A HREF="intergen.html#SEC25">Syntax of Orthography Changes</A>
</UL>



<H3><A NAME="SEC20" HREF="intergen.html#TOC20">4.2.1 Basic changes</A></H3>

<P>
To substitute one string of characters for another, these must be made
known to the program in a change.  (The technical term for this sort of
change is a production, but we will simply call them changes.)  In the
simplest case, a change is given in three parts: (1) the field code
<CODE>\ch</CODE> must be given at the extreme left margin to indicate that
this line contains a change; (2) the match string is the string for
which the program must search; and (3) the substitution string is the
replacement for the match string, wherever it is found.


<P>
The beginning and end of the match and substitution strings must be
marked.  The first printing character following <CODE>\ch</CODE> (with at
least one space or tab between) is used as the delimiter for that line.
The match string is taken as whatever lies between the first and second
occurrences of the delimiter on the line and the substitution string is
whatever lies between the third and fourth occurrences.  For example,
the following lines indicate the change of hi to bye, where the
delimiters are the double quote mark (<CODE>"</CODE>), the single quote mark
(<CODE>'</CODE>), the period (<CODE>.</CODE>), and the at sign (<CODE>@</CODE>).

<PRE>
\ch "hi" "bye"
\ch 'hi' 'bye'
\ch .hi. .bye.
\ch @hi@ @bye@
</PRE>

<P>
Throughout this document, we use the double quote mark as the delimiter
unless there is some reason to do otherwise.


<P>
Change tables follow these conventions:

<OL>
<LI>

Any characters (other than the delimiter) may be placed between the
match and substitution strings.  This allows various notations to
symbolize the change.  For example, the following are equivalent:

<PRE>
\ch "thou" "you"
\ch "thou" to "you"
\ch "thou" &#62; "you"
\ch "thou" --&#62; "you"
\ch "thou" becomes "you"
</PRE>

<LI>

Comments included after the substitution string are initiated by a
designated character such as a semicolon (<CODE>;</CODE>).
The following lines illustrate the use of comments:

<PRE>
\ch "qeki" "qiki" | for cases like wawqeki
\ch "thou" "you"  | for modern English
</PRE>

<LI>

A change can be ignored temporarily by turning it into a comment field.
This is done either by placing an unrecognized field code in front of
the normal <CODE>\ch</CODE>, or by placing the comment character
(<CODE>|</CODE>) in front of it.  For example, only the
first of the following three lines would effect a change:

<PRE>
\ch "nb" "mp"
\no \ch "np" "np"
|\ch "mb" "nb"
</PRE>

</OL>

<P>
The changes in the text output control file are applied as an ordered
set of changes.  The first change is applied to the entire word by
searching from left to right for any matching strings and, upon finding
any, replacing them with the substitution string.  After the first
change has been applied to the entire word, then the next change is
applied, and so on.  Thus, each change applies to the result of all
prior changes.  When all the changes have been applied, the resulting
word is returned.  For example, suppose we have the following changes:

<PRE>
\ch "aib" &#62; "ayb"
\ch "yb"  &#62; "yp"
</PRE>

<P>
Consider the effect these have on the word <I>paiba</I>.  The first
changes <I>i</I> to <I>y</I>, yielding <I>payba</I>; the second changes
<I>b</I> to <I>p</I>, to yield <I>paypa</I>.  (This would be better than the
single change of <I>aib</I> to <I>ayp</I> if there were sources of <I>yb</I>
other than the output of the first rule.)


<P>
The way in which change tables are applied allows certain
tricks.  For example, suppose that for Quechua, we wish to change
<I>hw</I> to <I>f</I>, so that <I>hwista</I> becomes <I>fista</I> and <I>hwis</I>
becomes <I>fis</I>.  However, we do not wish to change the sequence
<I>shw</I> or <I>chw</I> to <I>sf</I> or <I>cf</I> (respectively).  This could
be done by the following sequence of changes. (Note, <CODE>@</CODE> and
<CODE>$</CODE> are not otherwise used in the orthography.)

<PRE>
\ch "shw" &#62; "@"     | (1)
\ch "chw" &#62; "$"      | (2)
\ch "hw"  &#62; "f"      | (3)
\ch "@"   &#62; "shw"   | (4)
\ch "$"   &#62; "chw"    | (5)
</PRE>

<P>
Lines (1) and (2) protect the <I>sh</I> and <I>ch</I> by changing them to
distinguished symbols.  This clears the way for the change of <I>hw</I> to
<I>f</I> in (3).  Then lines (4) and (5) restore <CODE>@</CODE> and <CODE>$</CODE> to
<I>sh</I> and <I>ch</I>, respectively. (An alternative, simpler way to do
this is discussed in the next section.)




<H3><A NAME="SEC21" HREF="intergen.html#TOC21">4.2.2 Environmentally constrained changes</A></H3>

<P>
It is possible to impose string environment constraints (SECs) on
changes in the orthography change tables.  The syntax of SECs is
described in detail in section .


<P>
For example, suppose we wish to change the mid vowels (<I>e</I> and
<I>o</I>) to high vowels (<I>i</I> and <I>u</I> respectively) immediately
before and after <I>q</I>.  This could be done with the following
changes:

<PRE>
\ch "o" "u"  / _ q  / q _
\ch "e" "i"  / _ q  / q _
</PRE>

<P>
This is not entirely a hypothetical example; some Quechua practical
orthographies write the mid vowels <I>e</I> and <I>o</I>.  However, in the
environment of <I>/q/</I> these could be considered phonemically high
vowels <I>/i/</I> and <I>/u/</I>.  Changing the mid vowels to high upon
loading texts has the advantage that--for cases like <I>upun</I> "he
drinks" and <I>upoq</I> "the one who drinks"--the root needs to be
represented internally only as <I>upu</I> "drink".  But note, because
of Spanish loans, it is not possible to change all cases of <I>e</I> to
<I>i</I> and <I>o</I> to <I>u</I>.  The changes must be conditioned.


<P>
In reality, the regressive vowel-lowering effect of <I>/q/</I> can pass
over various intervening consonants, including <I>/y/</I>, <I>/w/</I>,
<I>/l/</I>, <I>/ll/</I>, <I>/r/</I>, <I>/m/</I>, <I>/n/</I>, and <I>/n/</I>.  For
example, <I>/ullq/</I> becomes <I>ollq</I>, <I>/irq/</I> becomes <I>erq</I>,
and so on.  Rather than list each of these cases as a separate constraint, it
is convenient to define a class (which we label <CODE>+resonant</CODE>) and
use this class to simplify the SEC.  Note that the string class
must be defined (with the <CODE>\scl</CODE> field code) before it is used in a
constraint.

<PRE>
\scl +resonant y w l ll r m n n~
\ch "o" "u" / q _ / _ ([+resonant]) q
\ch "e" "i" / q _ / _ ([+resonant]) q
</PRE>

<P>
This says that the mid vowels become high vowels after <I>/q/</I> and
before <I>/q/</I>, possibly with an intervening <I>/y/</I>, <I>/w/</I>,
<I>/l/</I>, <I>/ll/</I>, <I>/r/</I>, <I>/m/</I>, <I>/n/</I>, or <I>/n/</I>.


<P>
Consider the problem posed for Quechua in the previous section, that of
changing <I>hw</I> to <I>f</I>.  An alternative is to condition the change
so that it does not apply adjacent to a member of the string class
<CODE>Affric</CODE> which contains <I>s</I> and <I>c</I>.

<PRE>
\scl Affric c s
\ch "hw" "f" / [Affric] ~_
</PRE>

<P>
It is sometimes convenient to make certain changes only at word
boundaries, that is, to change a sequence of characters only if they
initiate or terminate the word.  This conditioning is easily expressed,
as shown in the following examples.

<PRE>
\ch "this" "that"           | anywhere in the word
\ch "this" "that"  / # _    | only if word initial
\ch "this" "that"  /   _ #  | only if word final
\ch "this" "that"  / # _ #  | only if entire word
</PRE>

<P>




<H3><A NAME="SEC22" HREF="intergen.html#TOC22">4.2.3 Using text orthography changes</A></H3>

<P>
The purpose of orthography change is to convert text from an external
orthography to an internal representation more suitable for
morphological analysis.  In many cases this is unnecessary, the
practical orthography being completely adequate as the internal
representation.  In other cases, the practical orthography is an
inconvenience that can be circumvented by converting to a more phonemic
representation.


<P>
Let us take a simple example from Latin.  In the Latin orthography, the
nominative singular masculine of the word "king" is <I>rex</I>.
However, phonemically, this is really <I>/reks/</I>; <I>/rek/</I> is the
root meaning king and the <I>/s/</I> is an inflectional suffix.  If
the program is to recover such an analysis, then it is necessary to
convert the <I>x</I> of the external, practical orthography into <I>ks</I>
internally.  This can be done by including the following orthography
change in the text output control file:

<PRE>
\ch  "x"  "ks"
</PRE>

<P>
In this, <I>x</I> is the match string and <I>ks</I> is the substitution
string, as discussed in section .  Whenever <I>x</I> is
found, <I>ks</I> is substituted for it.


<P>
Let us consider next an example from Huallaga Quechua.  The practical
orthography currently represents long vowels by doubling the vowel.
For example, what is written as <I>kaa</I> is <I>/ka:/</I> "I am", where
the length (represented by a colon) is the morpheme meaning "first
person subject".  Other examples, such as <I>upoo</I> <I>/upu:/</I> "I
drink" and <I>upichee</I> <I>/upi-chi-:/</I> "I extinguish", motivate us
to convert all long vowels into a vowel followed by a colon.  The
following changes do this:

<PRE>
\ch  "aa"  "a:"
\ch  "ee"  "i:"
\ch  "ii"  "i:"
\ch  "oo"  "u:"
\ch  "uu"  "u:"
</PRE>

<P>
Note that the long high vowels (<I>i</I> and <I>u</I>) have become mid vowels
(<I>e</I> and <I>o</I> respectively); consequently, the vowel in the
substitution string is not necessarily the same as that of the match
string.  What is the utility of these changes?  In the lexicon, the
morphemes can be represented in their phonemic forms; they do not have to
be represented in all their orthographic variants.  For example, the
first person subject morpheme can be represented simply as a colon
(<I>-:</I>), rather than as <I>-a</I> in cases like <I>kaa</I>, as <I>-o</I> in
cases like <I>qoo</I>, and as <I>-e</I> as in cases like <I>upichee</I>.
Further, the verb "drink" can be represented as <I>upu</I> and the
causative suffix (in <I>upichee</I>) can be represented as <I>-chi</I>; these
are the forms these morphemes have in other (nonlowered) environments.
As the next example, let us suppose that we are analyzing Spanish, and
that we wish to work internally with <I>k</I> rather than <I>c</I> (before
<I>a</I>, <I>o</I>, and <I>u</I>) and <I>qu</I> (before <I>i</I> and <I>e</I>). (Of
course, this is probably not the only change we would want to make.)
Consider the following changes:

<PRE>
\ch  "ca"  "ka"
\ch  "co"  "ko"
\ch  "cu"  "ku"
\ch  "qu"  "k"
</PRE>

<P>
The first three handle <I>c</I> and the last handles <I>qu</I>.  By virtue of
including the vowel after <I>c</I>, we avoid changing <I>ch</I> to <I>kh</I>.
There are other ways to achieve the same effect.  One way exploits the
fact that each change is applied to the output of all previous changes.
Thus, we could first protect <I>ch</I> by changing it to some distinguished
character (say <CODE>@</CODE>), then changing <I>c</I> to <I>k</I>, and then
restoring <CODE>@</CODE> to <I>ch</I>:

<PRE>
\ch  "ch"  "@"
\ch  "c"  "k"
\ch  "@"  "ch"
\ch  "qu"  "k"
</PRE>

<P>
Another approach conditions the change by the adjacent characters.  The
changes could be rewritten as

<PRE>
\ch  "c"  "k"  / _a  / _o  / _u  | only before a, o, or u
\ch  "qu"  "k"                   | in all cases
</PRE>

<P>
The first change says, "change <I>c</I> to <I>k</I> when followed by <I>a</I>,
<I>o</I>, or <I>u</I>."  (This would, for example, change <I>como</I> to
<I>komo</I>, but would not affect <I>chal</I>.)  The syntax of such conditions
is exactly that used in string environment constraints; see
section .




<H3><A NAME="SEC23" HREF="intergen.html#TOC23">4.2.4 Where orthography changes apply</A></H3>

<P>
Input orthography changes are made when the text being processed may be
written in a practical orthography.  Rather than requiring that it be
converted as a prerequisite to running the program, it is possible to
have the program convert the orthography as it loads and before it
processes each word.


<P>
The changes loaded from the text output control file are applied after all the
text is converted to lower case (and the information about upper and
lower case, along with information about format marking, punctuation
and white space, has been put to one side.)  Consequently, the match
strings of these orthography changes should be all lower case; any
change that has an uppercase character in the match string will never
apply.




<H3><A NAME="SEC24" HREF="intergen.html#TOC24">4.2.5 A sample orthography change table</A></H3>

<P>
We include here the entire orthography input change table for Caquinte
(a language of Peru).  There are basically four changes that need to be
made: (1) nasals, which in the practical orthography reflect their
assimilation to the point of articulation of a following noncontinuant,
must be changed into an unspecified nasal, represented by <I>N</I>; (2)
<I>c</I> and <I>qu</I> are changed to <I>k</I>; (3) <I>j</I> is changed to <I>h</I>;
and (4) <I>gu</I> is changed to <I>g</I> before <I>i</I> and <I>e</I>.



<PRE>
\ch  "mp"  "Np"     | for unspecified nasals
\ch  "nch" "Nch"
\ch  "nc"  "Nk"
\ch  "nqu" "Nk"
\ch  "nt"  "Nt"

\ch  "ch"  "@"     | to protect ch
\ch  "c"   "k"      | other c's to k
\ch  "@"   "ch"    | to restore ch
\ch  "qu"  "k"

\ch  "j"   "h"

\ch  "gue" "ge"
\ch  "gui" "gi"
</PRE>

<P>
This change table can be simplified by the judicious use of string
environment constraints:



<PRE>
\ch  "m"  &#62;  "N"  / _p
\ch  "n"  &#62;  "N"  / _c  / _t  / _qu

\ch  "c"  &#62;  "k"  / _~h
\ch  "qu" &#62;  "k"

\ch  "j"  &#62;  "h"

\ch  "gu" &#62;  "g"  / _e  /_i
</PRE>

<P>
As suggested by the preceding examples, the text orthography change
table is composed of all the <CODE>\ch</CODE> fields found in the
text output control file.  These may appear anywhere in the file relative to
the other fields.  It is recommended that all the orthography changes
be placed together in one section of the text output control file, rather than
being mixed in with other fields.




<H3><A NAME="SEC25" HREF="intergen.html#TOC25">4.2.6 Syntax of Orthography Changes</A></H3>

<P>
This section presents a grammatical description of the syntax of
orthography changes in BNF notation.
(@xref{\ch (xxORDC.TAB)}).



<PRE>

 1a. &#60;orthochange&#62;  ::= &#60;basic_change&#62;
 1b.                    &#60;basic_change&#62; &#60;constraints&#62;

 2a. &#60;basic_change&#62; ::= &#60;quote&#62;&#60;quote&#62; &#60;quote&#62;&#60;string&#62;&#60;quote&#62;
 2b.                    &#60;quote&#62;&#60;string&#62;&#60;quote&#62; &#60;quote&#62;&#60;quote&#62;
 2c.                    &#60;quote&#62;&#60;string&#62;&#60;quote&#62; &#60;quote&#62;&#60;string&#62;&#60;quote&#62;

 3.  &#60;quote&#62;        ::= any printing character not used in either
						the ``from'' string or the ``to'' string

 4.  &#60;string&#62;       ::= one or more characters other than the quote
						character used by this orthography change

 5a. &#60;constraints&#62;  ::= &#60;change_envir&#62;
 5b.                    &#60;change_envir&#62; &#60;constraints&#62;

 6a. &#60;change_envir&#62; ::= &#60;marker&#62; &#60;leftside&#62; &#60;envbar&#62; &#60;rightside&#62;
 6b.                    &#60;marker&#62; &#60;leftside&#62; &#60;envbar&#62;
 6c.                    &#60;marker&#62; &#60;envbar&#62; &#60;rightside&#62;

 7a. &#60;leftside&#62;   ::= &#60;side&#62;
 7b.                  &#60;boundary&#62;
 7c.                  &#60;boundary&#62; &#60;side&#62;

 8a. &#60;rightside&#62;  ::= &#60;side&#62;
 8b.                  &#60;boundary&#62;
 8c.                  &#60;side&#62; &#60;boundary&#62;

 9a. &#60;side&#62;       ::= &#60;item&#62;
 9b.                  &#60;item&#62; &#60;side&#62;
 9c.                  &#60;item&#62; ... &#60;side&#62;

10a. &#60;item&#62;       ::= &#60;piece&#62;
10b.                  ( &#60;piece&#62; )

11a. &#60;piece&#62;      ::= ~ &#60;piece&#62;
11b.                  &#60;literal&#62;
11c.                  [ &#60;literal&#62; ]

12.  &#60;marker&#62;     ::= /
					  +/

13.  &#60;envbar&#62;     ::= _
					  ~_

14.  &#60;boundary&#62;   ::= #
					  ~#

15.  &#60;literal&#62;    ::= one or more contiguous characters

</PRE>


<H4>4.2.6.1 Comments on selected BNF rules</H4>
<DL COMPACT>

<DT>2.
<DD>
The same <CODE>&#60;quote&#62;</CODE> character must be used at both the beginning
and the end of both the "from" string and the "to" string.

<DT>3.
<DD>
The double quote (<CODE>"</CODE>) and single quote (<CODE>'</CODE>) characters are
most often used.

<DT>7-8.
<DD>
Note that what can appear to the left of the environment bar is a
mirror image of what can appear to the right.

<DT>9c.
<DD>
An ellipsis (<CODE>...</CODE>) indicates a possible break in contiguity.

<DT>10b.
<DD>
Something enclosed in parentheses is optional.

<DT>11a.
<DD>
A tilde (<CODE>~</CODE>) reverses the desirability of an element, causing the
constraint to fail if it is found rather than fail if it is not found.

<DT>11c.
<DD>
A literal enclosed in square brackets must be the name of a string
class defined by a <CODE>\scl</CODE> field in the analysis data file, or
earlier in the dictionary orthography change file.

<DT>12.
<DD>
A <CODE>+/</CODE> is usually used for morpheme environment constraints, but may
used for change environment constraints in <CODE>\ch</CODE> fields in the
dictionary orthography change table file.

<DT>13.
<DD>
A tilde attached to the environment bar (<CODE>~_</CODE>) inverts the sense of
the constraint as a whole.

<DT>14b.
<DD>
The boundary marker preceded by a tilde (<CODE>~#</CODE>) indicates that it
must not be a word boundary.

<DT>15.
<DD>
The special characters used by environment constraints can be included
in a literal only if they are immediately preceded by a backslash:

<PRE>

\+  \/  \#  \~  \[  \]  \(  \)  \.  \_  \\

</PRE>

</DL>



<H2><A NAME="SEC26" HREF="intergen.html#TOC26">4.3 Decomposition Separation Character: \dsc</A></H2>
<P>
<A NAME="IDX16"></A>


<P>
The <CODE>\dsc</CODE> field defines the character used to separate the
morphemes in the decomposition field of the input analysis file.  For
example, to use the equal sign (<CODE>=</CODE>), the text input control file
would include:

<PRE>

\dsc  =

</PRE>

<P>
This would handle a decomposition field like the following:

<PRE>

\d %3%kay%ka=y%ka=y%

</PRE>

<P>
It makes sense to use the <CODE>\dsc</CODE> field only once in the text output
control file.  If multiple <CODE>\dsc</CODE> fields do occur in the file, the
value given in the first one is used.  If the text output control file
does not have an <CODE>\dsc</CODE> field, a dash (<CODE>-</CODE>) is used.


<P>
The first printing character following the <CODE>\dsc</CODE> field code is used
as the morpheme decomposition separator character.  The same character
cannot be used both for separating decomposed morphemes in the analysis
output file and for marking comments in the output control files.  Thus,
one normally cannot use the vertical bar (<CODE>|</CODE>) as the decomposition
separation character.




<H2><A NAME="SEC27" HREF="intergen.html#TOC27">4.4 Primary format marker character: \format</A></H2>
<P>
<A NAME="IDX17"></A>


<P>
The <CODE>\format</CODE> field designates a single character to flag the
beginning of a primary format marker.  For example, if the format
markers in the text files begin with the at sign (<CODE>@</CODE>), the
following would be placed in the text input control file:

<PRE>

\format  @

</PRE>

<P>
This would be used, for example, if the text contained format markers
like the following:

<PRE>

@
@p
@sp
@make(Article)
@very-long.and;muddled/format*marker,to#be$sure

</PRE>

<P>
If a <CODE>\format</CODE> field occurs in the text input control file without
a following character to serve for flagging format markers, then the
program will not recognize any format markers and will try to parse
everything other than punctuation characters.


<P>
It makes sense to use the <CODE>\format</CODE> field only once in the text
input control file.  If multiple <CODE>\format</CODE> fields do occur in the
file, the value given in the first one is used.


<P>
The first printing character following the <CODE>\format</CODE> field code is
used to flag format markers.  The character currently used to mark
comments cannot be assigned to also flag format markers.  Thus, the
vertical bar (<CODE>|</CODE>) cannot normally be used to flag format markers.




<H2><A NAME="SEC28" HREF="intergen.html#TOC28">4.5 Lowercase/uppercase character pairs: \luwfc</A></H2>
<P>
<A NAME="IDX18"></A>


<P>
To break a text into words, the program needs to know which characters
are used to form words.  It always assumes that the letters <CODE>A</CODE>
through <CODE>Z</CODE> and <CODE>a</CODE> through <CODE>z</CODE> are used as word
formation characters.  If the orthography of the language the user is
working in uses any other characters that have lowercase and uppercase
forms, these must given in a <CODE>\luwfc</CODE> field in the text input
control file.


<P>
The <CODE>\luwfc</CODE> field defines pairs of characters; the first member
of each pair is a lowercase character and the second is the
corresponding uppercase character.  Several such pairs may be placed in
the field or they may be placed on separate fields.  Whitespace may be
interspersed freely.  For example, the following three examples are
equivalent:

<PRE>

\luwfc   

</PRE>

<P>
or

<PRE>

\luwfc        | e with acute accent
\luwfc        | enyee

</PRE>

<P>
or

<PRE>

\luwfc      

</PRE>

<P>
Note that comments can be used as well (just as they can in any
INTERGEN control file).  This means that the comment character
cannot be designated as a word formation character.  If the orthography
includes the vertical bar (<CODE>|</CODE>), then a different comment character
must be defined with the <SAMP>`-c'</SAMP> command line option when
INTERGEN is initiated; see
`Running INTERGEN'
above.
section <A HREF="intergen.html#SEC2">2. Running INTERGEN</A>.


<P>
The <CODE>\luwfc</CODE> field can be entered anywhere in the text input control file,
although a natural place would be before the <CODE>\wfc</CODE> (word formation
character) field.


<P>
Any standard alphabetic character (that is <CODE>a</CODE> through <CODE>z</CODE> or
<CODE>A</CODE> through <CODE>Z</CODE>) in the <CODE>\luwfc</CODE> field will override the
standard lower- upper case pairing.  For example, the following will
treat <CODE>X</CODE> as the upper case equivalent of <CODE>z</CODE>:

<PRE>

\luwfc z X

</PRE>

<P>
Note that <CODE>Z</CODE> will still have <CODE>z</CODE> as its lower-case
equivalent in this case.


<P>
The <CODE>\luwfc</CODE> field is allowed to map multiple lower case characters to
the same upper case character, and vice versa.  This is needed for
languages that do not mark tone on upper case letters.




<H2><A NAME="SEC29" HREF="intergen.html#TOC29">4.6 Multibyte lowercase/uppercase character pairs: \luwfcs</A></H2>
<P>
<A NAME="IDX19"></A>


<P>
The <CODE>\luwfcs</CODE> field extends the character pair definitions of the
<CODE>\luwfc</CODE> field to multibyte character sequences.  Like the
<CODE>\luwfc</CODE> field, the <CODE>\luwfcs</CODE> field defines pairs of
characters; the first member of each pair is a multibyte lowercase
character and the second is the corresponding multibyte uppercase
character.  Several such pairs may be placed in the field or they may be
placed on separate fields.  Whitespace separates the members of each
pair, and the pairs from each other.  For example, the following three
examples are equivalent:

<PRE>

\luwfcs  e' E` n~ N^  C&#38;

</PRE>

<P>
or

<PRE>

\luwfcs  e' E`      | e with acute accent
\luwfcs  n~ N^      | enyee
\luwfcs    C&#38;      | c cedilla

</PRE>

<P>
or

<PRE>

\luwfcs  e' E`
		 n~ N^
		   C&#38;

</PRE>

<P>
Note that comments can be used as well (just as they can in any
INTERGEN control file).  This means that the comment character
cannot be designated as a word formation character.  If the orthography
includes the vertical bar (<CODE>|</CODE>), then a different comment character
must be defined with the <SAMP>`-c'</SAMP> command line option when
INTERGEN is initiated; see
`Running INTERGEN' above.
section <A HREF="intergen.html#SEC2">2. Running INTERGEN</A>.


<P>
Also note that there is no requirement that the lowercase form be the
same length (number of bytes) as the uppercase form.  The examples shown
above are only one or two bytes (character codes) in length, but there is
no limit placed on the length of a multibyte character.


<P>
The <CODE>\luwfcs</CODE> field can be entered anywhere in the text input
control file.  <CODE>\luwfcs</CODE> fields may be mixed with <CODE>\luwfc</CODE>
fields in the same file.


<P>
Any standard alphabetic character (that is <CODE>a</CODE> through <CODE>z</CODE> or
<CODE>A</CODE> through <CODE>Z</CODE>) in the <CODE>\luwfcs</CODE> field will override the
standard lower- upper case pairing.  For example, the following will
treat <CODE>X</CODE> as the upper case equivalent of <CODE>z</CODE>:

<PRE>

\luwfcs z X

</PRE>

<P>
Note that <CODE>Z</CODE> will still have <CODE>z</CODE> as its lowercase
equivalent in this case.


<P>
The <CODE>\luwfcs</CODE> field is allowed to map multiple multibyte lowercase
characters to the same multibyte uppercase character, and vice versa.
This may be useful in some situations, but it introduces an element of
ambiguity into the decapitalization and recapitalization processes.  If
ambiguous capitalization is supported, then for the previous example,
<CODE>z</CODE> will have both <CODE>X</CODE> and <CODE>Z</CODE> as uppercase equivalents,
and <CODE>X</CODE> will have both <CODE>x</CODE> and <CODE>Z</CODE> as lowercase
equivalents.




<H2><A NAME="SEC30" HREF="intergen.html#TOC30">4.7 Text output string classes: \scl</A></H2>
<P>
<A NAME="IDX20"></A>


<P>
section <A HREF="intergen.html#SEC30">4.7 Text output string classes: \scl</A>.
A string class is defined by the <CODE>\scl</CODE> field code followed by the
class name, which is followed in turn by one or more contiguous
character strings or (previously defined) string class names.  A string
class name used as part of the class definition must be enclosed in
square brackets.
For example, the sample text output control file given below contains
the following lines:

<PRE>
a. \scl X t s c
b. \ch "h"   "j"   / [X] ~_
</PRE>

<P>
Line a defines a string class including t, s, and c; change rule b
makes use of this class to block the change of h to j when it occurs in
the digraphs th, sh, and ch.


<P>
The class name must be a single, contiguous sequence of printing
characters.  Characters and words which have special meanings in tests
should not be used.  The actual character strings have no such
restrictions.  The individual members of the class are separated by
spaces, tabs, or newlines.


<P>
Each <CODE>\scl</CODE> field defines a single string class.  Any number of
<CODE>\scl</CODE> fields may appear in the file.  The only restriction is
that a string class must be defined before it is used.




<H2><A NAME="SEC31" HREF="intergen.html#TOC31">4.8 Caseless word formation characters: \wfc</A></H2>
<P>
<A NAME="IDX21"></A>


<P>
To break a text into words, the program needs to know which characters
are used to form words.  It always assumes that the letters <CODE>A</CODE>
through <CODE>Z</CODE> and <CODE>a</CODE> through <CODE>z</CODE> are used as word
formation characters.  If the orthography of the language the user is
working in uses any characters that do not have different lowercase and
uppercase forms, these must given in a <CODE>\wfc</CODE> field in the text
input control file.


<P>
For example, English uses an apostrophe character (<CODE>'</CODE>) that could
be considered a word formation character.  This information is provided
by the following example:

<PRE>

\wfc  '    | needed for words like don't

</PRE>

<P>
Notice that the characters in the <CODE>\wfc</CODE> field may be separated by
spaces, although it is not required to do so.  If more than one
<CODE>\wfc</CODE> field occurs in the text input control file, the program
uses the combination of all characters defined in all such fields as
word formation characters.


<P>
The comment character cannot be designated as a word formation character.
If the orthography includes the vertical bar (<CODE>|</CODE>), then a different
comment character must be defined with the <SAMP>`-c'</SAMP> command line option
when INTERGEN is initiated; see
`Running INTERGEN' above.
section <A HREF="intergen.html#SEC2">2. Running INTERGEN</A>.




<H2><A NAME="SEC32" HREF="intergen.html#TOC32">4.9 Multibyte caseless word formation characters: \wfcs</A></H2>
<P>
<A NAME="IDX22"></A>


<P>
The <CODE>\wfcs</CODE> field allows multibyte characters to be defined as
"caseless" word formation characters.  It has the same relationship to
<CODE>\wfc</CODE> that <CODE>\luwfcs</CODE> has to <CODE>\luwfc</CODE>.  The multibyte word
formation characters are separated from each other by whitespace.




<H2><A NAME="SEC33" HREF="intergen.html#TOC33">4.10 A sample text output control file</A></H2>

<P>
A complete text output control file used for adapting to Asheninca
Campa is given below.



<PRE>
\id AEouttx.ctl for Asheninca Campa
\ch "N"   "m"  / _ p       | assimilates before p
\ch "N"   "n"              | otherwise becomes n
\ch "ny"  "n~"

\ch "ts"  "th" / ~_ i      | (N)tsi is unchanged
\ch "tsy" "ch"
\ch "sy"  "sh"
\ch "t"   "tz" / n _ i

\ch "k"   "qu" / _ i / _ e
\ch "k"   "q"  / _ y
\ch "k"   "c"

\scl X t s c               | define class of  t   s   c
\ch "h"   "j"   / [X] ~_   | change except in th, sh, ch

\ch "#"   " "              | remove fixed space
\ch "@"   ""              | remove blocking character
</PRE>

<P><HR><P>
<H1>Footnotes</H1>
<H3><A NAME="FOOT1" HREF="intergen.html#DOCF1">(1)</A></H3>
<P>This chapter
is adapted from chapter 8 of Weber (1990).
<P><HR><P>
This document was generated on 23 Febuary 1999 using
<A HREF="http://wwwinfo.cern.ch/dis/texi2html/">texi2html</A>&nbsp;1.55k.
</BODY>
</HTML>
